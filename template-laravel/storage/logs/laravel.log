[2023-11-07 16:58:48] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 16:59:08] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 16:59:13] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 17:00:23] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 17:01:16] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 17:01:37] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 17:03:26] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 17:03:54] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 17:04:46] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-07 17:06:02] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/Programs/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-13 21:23:54] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-13 21:26:10] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-13 21:27:29] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-13 21:32:53] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-13 21:33:51] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-13 21:34:33] local.ERROR: could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 0): could not find driver (Connection: pgsql, SQL: --
-- Use a specific schema and set it as default - thingy.
--
DROP SCHEMA IF EXISTS thingy CASCADE;
CREATE SCHEMA IF NOT EXISTS thingy;
SET search_path TO thingy;

--
-- Drop any existing tables.
--
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS cards CASCADE;
DROP TABLE IF EXISTS items CASCADE;

--
-- Create tables.
--
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  remember_token VARCHAR
);

CREATE TABLE cards (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  user_id INTEGER REFERENCES users NOT NULL
);

CREATE TABLE items (
  id SERIAL PRIMARY KEY,
  card_id INTEGER NOT NULL REFERENCES cards ON DELETE CASCADE,
  description VARCHAR NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE
);

--
-- Insert value.
--

INSERT INTO users VALUES (
  DEFAULT,
  'John Doe',
  'admin@example.com',
  '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W'
); -- Password is 1234. Generated using Hash::make('1234')

INSERT INTO cards VALUES (DEFAULT, 'Things to do', 1);
INSERT INTO items VALUES (DEFAULT, 1, 'Buy milk');
INSERT INTO items VALUES (DEFAULT, 1, 'Walk the dog', true);

INSERT INTO cards VALUES (DEFAULT, 'Things not to do', 1);
INSERT INTO items VALUES (DEFAULT, 2, 'Break a leg');
INSERT INTO items VALUES (DEFAULT, 2, 'Crash the car');
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 0): could not find driver at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:65)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(65): PDO->__construct()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(44): Illuminate\\Database\\Connectors\\Connector->createPdoConnection()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php(35): Illuminate\\Database\\Connectors\\Connector->createConnection()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\PostgresConnector->connect()
#4 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1319): call_user_func()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): Illuminate\\Database\\Connection->getPdo()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#36 {main}
"} 
[2023-11-14 15:51:07] local.ERROR: SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near "\"
LINE 4: \c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE "User" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES "User"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES "User"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES "User"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES "User"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES "User"(id),
    receiver_id INT REFERENCES "User"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES "User"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES "User"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 4: \\c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
\\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS \"User\" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE \"User\" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES \"User\"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES \"User\"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES \"User\"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES \"User\"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES \"User\"(id),
    receiver_id INT REFERENCES \"User\"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES \"User\"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES \"User\"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 4: \\c test
        ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:629)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): PDO->exec()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#30 {main}
"} 
[2023-11-14 15:51:46] local.ERROR: SQLSTATE[25001]: Active sql transaction: 7 ERROR:  DROP DATABASE cannot run inside a transaction block (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
--\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE "User" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES "User"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES "User"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES "User"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES "User"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES "User"(id),
    receiver_id INT REFERENCES "User"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES "User"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES "User"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 25001): SQLSTATE[25001]: Active sql transaction: 7 ERROR:  DROP DATABASE cannot run inside a transaction block (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
--\\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS \"User\" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE \"User\" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES \"User\"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES \"User\"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES \"User\"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES \"User\"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES \"User\"(id),
    receiver_id INT REFERENCES \"User\"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES \"User\"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES \"User\"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 25001): SQLSTATE[25001]: Active sql transaction: 7 ERROR:  DROP DATABASE cannot run inside a transaction block at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:629)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): PDO->exec()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#30 {main}
"} 
[2023-11-14 15:52:15] local.ERROR: SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near "\"
LINE 4: \c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE "User" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES "User"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES "User"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES "User"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES "User"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES "User"(id),
    receiver_id INT REFERENCES "User"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES "User"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES "User"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 4: \\c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
\\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS \"User\" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE \"User\" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES \"User\"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES \"User\"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES \"User\"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES \"User\"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES \"User\"(id),
    receiver_id INT REFERENCES \"User\"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES \"User\"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES \"User\"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 4: \\c test
        ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:629)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): PDO->exec()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#30 {main}
"} 
[2023-11-14 15:59:27] local.ERROR: SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near "\"
LINE 4: \c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;
\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE "User" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES "User"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES "User"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES "User"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES "User"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES "User"(id),
    receiver_id INT REFERENCES "User"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES "User"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES "User"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 4: \\c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;
\\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS \"User\" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE \"User\" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES \"User\"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES \"User\"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES \"User\"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES \"User\"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES \"User\"(id),
    receiver_id INT REFERENCES \"User\"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES \"User\"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES \"User\"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 4: \\c test
        ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:629)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): PDO->exec()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#30 {main}
"} 
[2023-11-14 16:00:45] local.ERROR: SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near "\"
LINE 5: \c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
SET search_path TO test;
\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE "User" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES "User"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES "User"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES "User"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES "User"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES "User"(id),
    receiver_id INT REFERENCES "User"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES "User"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES "User"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 5: \\c test
        ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
SET search_path TO test;
\\c test

DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS \"User\" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE \"User\" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES \"User\"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES \"User\"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES \"User\"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES \"User\"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES \"User\"(id),
    receiver_id INT REFERENCES \"User\"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES \"User\"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES \"User\"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near \"\\\"
LINE 5: \\c test
        ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:629)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): PDO->exec()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#30 {main}
"} 
[2023-11-14 16:01:55] local.ERROR: SQLSTATE[2BP01]: Dependent objects still exist: 7 ERROR:  cannot drop schema test because other objects depend on it
DETAIL:  type test.taskstatus depends on schema test
table test."User" depends on schema test
table test.admin depends on schema test
table test.project depends on schema test
table test.projectmember depends on schema test
table test.projectmemberinvitation depends on schema test
table test.post depends on schema test
table test.postcomment depends on schema test
table test.task depends on schema test
table test.projectmembertask depends on schema test
table test.message depends on schema test
table test.changes depends on schema test
table test.notification depends on schema test
table test.usernotification depends on schema test
function test.post_search_update() depends on schema test
function test.remove_favorite() depends on schema test
function test.favorite_restriction() depends on schema test
function test.one_coordinator_restriction() depends on schema test
HINT:  Use DROP ... CASCADE to drop the dependent objects too. (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE "User" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES "User"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES "User"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES "User"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES "User"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES "User"(id),
    receiver_id INT REFERENCES "User"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES "User"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES "User"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2BP01): SQLSTATE[2BP01]: Dependent objects still exist: 7 ERROR:  cannot drop schema test because other objects depend on it
DETAIL:  type test.taskstatus depends on schema test
table test.\"User\" depends on schema test
table test.admin depends on schema test
table test.project depends on schema test
table test.projectmember depends on schema test
table test.projectmemberinvitation depends on schema test
table test.post depends on schema test
table test.postcomment depends on schema test
table test.task depends on schema test
table test.projectmembertask depends on schema test
table test.message depends on schema test
table test.changes depends on schema test
table test.notification depends on schema test
table test.usernotification depends on schema test
function test.post_search_update() depends on schema test
function test.remove_favorite() depends on schema test
function test.favorite_restriction() depends on schema test
function test.one_coordinator_restriction() depends on schema test
HINT:  Use DROP ... CASCADE to drop the dependent objects too. (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP SCHEMA IF EXISTS test;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS \"User\" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE \"User\" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES \"User\"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES \"User\"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES \"User\"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES \"User\"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES \"User\"(id),
    receiver_id INT REFERENCES \"User\"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES \"User\"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES \"User\"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 2BP01): SQLSTATE[2BP01]: Dependent objects still exist: 7 ERROR:  cannot drop schema test because other objects depend on it
DETAIL:  type test.taskstatus depends on schema test
table test.\"User\" depends on schema test
table test.admin depends on schema test
table test.project depends on schema test
table test.projectmember depends on schema test
table test.projectmemberinvitation depends on schema test
table test.post depends on schema test
table test.postcomment depends on schema test
table test.task depends on schema test
table test.projectmembertask depends on schema test
table test.message depends on schema test
table test.changes depends on schema test
table test.notification depends on schema test
table test.usernotification depends on schema test
function test.post_search_update() depends on schema test
function test.remove_favorite() depends on schema test
function test.favorite_restriction() depends on schema test
function test.one_coordinator_restriction() depends on schema test
HINT:  Use DROP ... CASCADE to drop the dependent objects too. at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:629)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): PDO->exec()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#30 {main}
"} 
[2023-11-14 16:09:29] local.ERROR: SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at end of input
LINE 260: 
          ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP SCHEMA IF EXISTS test CASCADE;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS "User" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE "User" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES "User"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES "User"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES "User"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES "User"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES "User"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES "User"(id),
    receiver_id INT REFERENCES "User"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES "User"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES "User"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();


-- insert some stuff to get started
INSERT INTO "User" (id, name, username, email, password, phoneNumber, isDeactivated) VALUES 
    (1,'Rben Fonseca', 'rubenf11', 'ruben@gmail.com', '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W', '913111111', FALSE),
) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at end of input
LINE 260: 
          ^ (Connection: pgsql, SQL: -- Drop existing tables if they exist
DROP SCHEMA IF EXISTS test CASCADE;
CREATE SCHEMA test;

SET search_path TO test;

DROP TABLE IF EXISTS \"User\" CASCADE;
DROP TABLE IF EXISTS Admin CASCADE;
DROP TABLE IF EXISTS Project CASCADE;
DROP TABLE IF EXISTS ProjectMember CASCADE;
DROP TABLE IF EXISTS ProjectMemberInvitation CASCADE;
DROP TABLE IF EXISTS Post CASCADE;
DROP TABLE IF EXISTS PostComment CASCADE;
DROP TABLE IF EXISTS Task CASCADE;
DROP TABLE IF EXISTS ProjectMemberTask CASCADE;
DROP TABLE IF EXISTS Message CASCADE;
DROP TABLE IF EXISTS Changes CASCADE;
DROP TABLE IF EXISTS Notification CASCADE;
DROP TABLE IF EXISTS UserNotification CASCADE;

DROP TYPE IF EXISTS TaskStatus;

DROP INDEX IF EXISTS index_projectmember_iduser;
DROP INDEX IF EXISTS index_message_sender_receiver;
DROP INDEX IF EXISTS index_task_assigned_member;

DROP FUNCTION IF EXISTS post_search_update;

DROP FUNCTION IF EXISTS remove_favorite;
DROP FUNCTION IF EXISTS favorite_restriction;
DROP FUNCTION IF EXISTS one_coordinator_restriction;



CREATE TYPE TaskStatus AS ENUM('To Do','Doing', 'Done');

-- Create User Table
CREATE TABLE \"User\" (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    username VARCHAR NOT NULL UNIQUE,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL,
    phoneNumber VARCHAR,
    isDeactivated BOOLEAN
);

-- Create Admin Table (Extending User Table)
CREATE TABLE Admin (
    id INT PRIMARY KEY REFERENCES \"User\"(id)
    -- Add additional admin-specific fields here
);

-- Create Project Table
CREATE TABLE Project (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    start_date DATE,
    delivery_date DATE,
    archived BOOLEAN,
    UNIQUE (name),
    CHECK (delivery_date >= start_date)
);

-- Create ProjectMember Table
CREATE TABLE ProjectMember (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    isCoordinator BOOLEAN,
    isFavorite BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);

-- Create ProjectMemberInvitation Table
CREATE TABLE ProjectMemberInvitation (
    idUser INT REFERENCES \"User\"(id),
    idProject INT REFERENCES Project(id),
    inviteAccepted BOOLEAN,
    PRIMARY KEY (idUser, idProject)
);


-- Create Post Table
CREATE TABLE Post (
    id SERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description VARCHAR,
    upvotes INT,
    date DATE NOT NULL,
    isEdited BOOLEAN,
    author_id INT REFERENCES \"User\"(id),
    project_id INT REFERENCES Project(id)
);

-- Create PostComment Table
CREATE TABLE PostComment (
    id SERIAL PRIMARY KEY,
    comment VARCHAR NOT NULL,
    date DATE NOT NULL,
    author_id INT REFERENCES \"User\"(id),
    post_id INT REFERENCES Post(id),
    parent_comment_id INT REFERENCES PostComment(id),
    isEdited BOOLEAN
);

-- Create Task Table
CREATE TABLE Task (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL,
    description VARCHAR,
    start_date DATE,
    delivery_date DATE,
    status TaskStatus DEFAULT 'To Do',
    CHECK (delivery_date >= start_date),
    project_id INT REFERENCES Project(id)
);

-- Create Project_Task Relationship Table
CREATE TABLE ProjectMemberTask (
    user_id INT REFERENCES \"User\"(id),
    task_id INT REFERENCES Task(id),
    PRIMARY key (user_id,task_id)
);

-- Create Message Table
CREATE TABLE Message (
    id SERIAL PRIMARY KEY,
    text VARCHAR NOT NULL,
    date DATE NOT NULL,
    sender_id INT REFERENCES \"User\"(id),
    receiver_id INT REFERENCES \"User\"(id)
);

-- Create Changes Table
CREATE TABLE Changes (
    id SERIAL PRIMARY KEY,
    text VARCHAR,
    date DATE,
    project_id INT REFERENCES Project(id),
    user_id INT REFERENCES \"User\"(id)
);

-- Create Notification Table
CREATE TABLE Notification (
    id SERIAL PRIMARY KEY,
    description VARCHAR NOT NULL,
    date DATE NOT NULL,
    origin VARCHAR NOT NULL
);

-- Create UserNotification Table
CREATE TABLE UserNotification(
    user_id INT REFERENCES \"User\"(id),
    notification_id INT REFERENCES Notification(id),
    PRIMARY KEY (user_id,notification_id),
    isChecked BOOLEAN NOT NULL
);


--INDEX 1
CREATE INDEX index_projectmember_iduser ON ProjectMember USING btree(idUser); CLUSTER ProjectMember USING index_projectmember_iduser;

--INDEX 2
CREATE INDEX index_message_sender_receiver ON Message USING btree(sender_id, receiver_id);

--INDEX 3
CREATE INDEX index_task_assigned_member ON ProjectMemberTask USING btree(user_id,task_id);

--FULLTEXT SEARCH
ALTER TABLE Post
ADD COLUMN tsvectors TSVECTOR;

CREATE FUNCTION post_search_update() RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        NEW.tsvectors = (
            setweight(to_tsvector('english', NEW.title), 'A') ||
            setweight(to_tsvector('english', NEW.description), 'B')
        );
    END IF;
    IF TG_OP = 'UPDATE' THEN
        IF (NEW.title <> OLD.title OR NEW.description <> OLD.description) THEN
            NEW.tsvectors = (
                setweight(to_tsvector('english', NEW.title), 'A') ||
                setweight(to_tsvector('english', NEW.description), 'B') 
            );
        END IF;
    END IF;
    RETURN NEW;
END $$
LANGUAGE 'plpgsql';


CREATE TRIGGER post_search_update
BEFORE INSERT OR UPDATE ON Post
FOR EACH ROW
EXECUTE PROCEDURE post_search_update();

--TRIGGER 1
CREATE FUNCTION remove_favorite() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.archived = TRUE THEN
            UPDATE ProjectMember SET isFavorite = FALSE WHERE idProject = NEW.id;
            RETURN NULL;
            END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER remove_favorite_trigger
        BEFORE UPDATE ON Project
        FOR EACH ROW
        EXECUTE PROCEDURE remove_favorite();


--TRIGGER 2
CREATE FUNCTION favorite_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF NEW.isCoordinator IS NOT NULL THEN
            IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idUser = idUser AND isFavorite = TRUE) = 10 THEN
                RAISE EXCEPTION 'An user cannot have more than 10 favorite projects.';
                RETURN NULL;
            END IF;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER favorite_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE favorite_restriction();

--TRIGGER 3
CREATE FUNCTION one_coordinator_restriction() RETURNS TRIGGER AS
$BODY$
BEGIN
        IF EXISTS (SELECT COUNT(*) FROM ProjectMember WHERE NEW.idProject = idProject AND isCoordinator = TRUE ) > 0 THEN
           RAISE EXCEPTION 'A project cannot have more than 1 coordinator.';
           RETURN NULL;
        END IF;
        RETURN NEW;
END
$BODY$
LANGUAGE plpgsql;

CREATE TRIGGER one_coordinator_restriction_trigger
        BEFORE UPDATE ON ProjectMember
        FOR EACH ROW
        EXECUTE PROCEDURE one_coordinator_restriction();


-- insert some stuff to get started
INSERT INTO \"User\" (id, name, username, email, password, phoneNumber, isDeactivated) VALUES 
    (1,'Rben Fonseca', 'rubenf11', 'ruben@gmail.com', '$2y$10$HfzIhGCCaxqyaIdGgjARSuOKAcm1Uy82YfLuNaajn6JrjLWy9Sj/W', '913111111', FALSE),
) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#28 {main}

[previous exception] [object] (PDOException(code: 42601): SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at end of input
LINE 260: 
          ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:629)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(629): PDO->exec()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(623): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(469): Illuminate\\Database\\Connection->unprepared()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Database\\DatabaseManager->__call()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/database/seeders/DatabaseSeeder.php(18): Illuminate\\Support\\Facades\\Facade::__callStatic()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(184): Illuminate\\Container\\Container->call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(662): Illuminate\\Container\\BoundMethod::call()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(211): Illuminate\\Container\\Container->call()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Command/Command.php(326): Illuminate\\Console\\Command->execute()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Console/Command.php(180): Symfony\\Component\\Console\\Command\\Command->run()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(1081): Illuminate\\Console\\Command->run()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(320): Symfony\\Component\\Console\\Application->doRunCommand()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/symfony/console/Application.php(174): Symfony\\Component\\Console\\Application->doRun()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(201): Symfony\\Component\\Console\\Application->run()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle()
#30 {main}
"} 
[2023-11-14 16:11:23] local.ERROR: SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation "users" does not exist
LINE 1: select * from "users" where "email" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from "users" where "email" = ruben@gmail.com limit 1) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"users\" does not exist
LINE 1: select * from \"users\" where \"email\" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from \"users\" where \"email\" = ruben@gmail.com limit 1) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#59 {main}

[previous exception] [object] (PDOException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"users\" does not exist
LINE 1: select * from \"users\" where \"email\" = $1 limit 1
                      ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:421)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(421): PDOStatement->execute()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#59 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#60 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#61 {main}
"} 
[2023-11-14 16:27:07] local.ERROR: SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation "users" does not exist
LINE 1: select * from "users" where "email" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from "users" where "email" = ruben@gmail.com limit 1) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"users\" does not exist
LINE 1: select * from \"users\" where \"email\" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from \"users\" where \"email\" = ruben@gmail.com limit 1) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#59 {main}

[previous exception] [object] (PDOException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"users\" does not exist
LINE 1: select * from \"users\" where \"email\" = $1 limit 1
                      ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:421)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(421): PDOStatement->execute()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#59 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#60 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#61 {main}
"} 
[2023-11-14 16:27:19] local.ERROR: SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation "users" does not exist
LINE 1: select * from "users" where "email" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from "users" where "email" = ruben@gmail.com limit 1) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"users\" does not exist
LINE 1: select * from \"users\" where \"email\" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from \"users\" where \"email\" = ruben@gmail.com limit 1) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#59 {main}

[previous exception] [object] (PDOException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"users\" does not exist
LINE 1: select * from \"users\" where \"email\" = $1 limit 1
                      ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:421)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(421): PDOStatement->execute()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#59 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#60 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#61 {main}
"} 
[2023-11-14 16:44:53] local.ERROR: SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation "User" does not exist
LINE 1: select * from "User" where "email" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from "User" where "email" = ruben@gmail.com limit 1) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"User\" does not exist
LINE 1: select * from \"User\" where \"email\" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from \"User\" where \"email\" = ruben@gmail.com limit 1) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#59 {main}

[previous exception] [object] (PDOException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"User\" does not exist
LINE 1: select * from \"User\" where \"email\" = $1 limit 1
                      ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:421)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(421): PDOStatement->execute()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#59 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#60 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#61 {main}
"} 
[2023-11-14 16:47:16] local.ERROR: SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation "\"User\"" does not exist
LINE 1: select * from "\""User\""" where "email" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from "\""User\""" where "email" = ruben@gmail.com limit 1) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"\\\"User\\\"\" does not exist
LINE 1: select * from \"\\\"\"User\\\"\"\" where \"email\" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from \"\\\"\"User\\\"\"\" where \"email\" = ruben@gmail.com limit 1) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#59 {main}

[previous exception] [object] (PDOException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"\\\"User\\\"\" does not exist
LINE 1: select * from \"\\\"\"User\\\"\"\" where \"email\" = $1 limit 1
                      ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:421)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(421): PDOStatement->execute()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#59 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#60 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#61 {main}
"} 
[2023-11-14 16:48:46] local.ERROR: SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation "User" does not exist
LINE 1: select * from "User" where "email" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from "User" where "email" = ruben@gmail.com limit 1) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"User\" does not exist
LINE 1: select * from \"User\" where \"email\" = $1 limit 1
                      ^ (Connection: pgsql, SQL: select * from \"User\" where \"email\" = ruben@gmail.com limit 1) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#59 {main}

[previous exception] [object] (PDOException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"User\" does not exist
LINE 1: select * from \"User\" where \"email\" = $1 limit 1
                      ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:421)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(421): PDOStatement->execute()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/EloquentUserProvider.php(139): Illuminate\\Database\\Eloquent\\Builder->first()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/SessionGuard.php(381): Illuminate\\Auth\\EloquentUserProvider->retrieveByCredentials()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Auth/AuthManager.php(340): Illuminate\\Auth\\SessionGuard->attempt()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(353): Illuminate\\Auth\\AuthManager->__call()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/Auth/LoginController.php(38): Illuminate\\Support\\Facades\\Facade::__callStatic()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\Auth\\LoginController->authenticate()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#57 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#58 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#59 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#60 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#61 {main}
"} 
[2023-11-14 16:51:00] local.ERROR: SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation "cards" does not exist
LINE 1: select * from "cards" where "cards"."user_id" = $1 and "card...
                      ^ (Connection: pgsql, SQL: select * from "cards" where "cards"."user_id" = 1 and "cards"."user_id" is not null order by "id" asc) {"userId":1,"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"cards\" does not exist
LINE 1: select * from \"cards\" where \"cards\".\"user_id\" = $1 and \"card...
                      ^ (Connection: pgsql, SQL: select * from \"cards\" where \"cards\".\"user_id\" = 1 and \"cards\".\"user_id\" is not null order by \"id\" asc) at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:822)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(203): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/CardController.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->get()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\CardController->list()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#55 {main}

[previous exception] [object] (PDOException(code: 42P01): SQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"cards\" does not exist
LINE 1: select * from \"cards\" where \"cards\".\"user_id\" = $1 and \"card...
                      ^ at /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:421)
[stacktrace]
#0 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(421): PDOStatement->execute()
#1 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(809): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(776): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(407): Illuminate\\Database\\Connection->run()
#4 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2751): Illuminate\\Database\\Connection->select()
#5 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2740): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3294): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2739): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(737): Illuminate\\Database\\Query\\Builder->get()
#9 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(721): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(203): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/app/Http/Controllers/CardController.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->get()
#12 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\\Http\\Controllers\\CardController->list()
#13 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction()
#14 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#15 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\\Routing\\Route->runController()
#16 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(799): Illuminate\\Routing\\Route->run()
#17 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#18 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#19 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#20 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle()
#22 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle()
#24 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#25 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\\Session\\Middleware\\StartSession->handleStatefulRequest()
#26 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Session\\Middleware\\StartSession->handle()
#27 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#28 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle()
#29 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#30 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle()
#31 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#32 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\\Pipeline\\Pipeline->then()
#33 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(777): Illuminate\\Routing\\Router->runRouteWithinStack()
#34 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(741): Illuminate\\Routing\\Router->runRoute()
#35 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(730): Illuminate\\Routing\\Router->dispatchToRoute()
#36 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\\Routing\\Router->dispatch()
#37 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#38 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#41 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#42 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#43 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#44 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#46 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#48 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#49 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\HandleCors->handle()
#50 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#51 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#52 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#53 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then()
#54 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#55 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#56 /home/manu/UNI/3_ano/LBAW-feup/template-laravel/server.php(21): require_once('...')
#57 {main}
"} 
